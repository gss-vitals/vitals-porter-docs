# Porter 說明手冊
#### 適用版本：2.0.4
## 關於Porter
   為了匯出/匯入 Vitals ESP的資源(例如：文件、資料夾等等...)，我們設計了一個名為Porter的工具，以產生並處理資源的中介資料。

---
## Porter 各種設定選項說明
* 來源-**檔案模式**：
    * **主要**
        * 來源目錄：匯出的來源目錄，名稱符合'`.*`'的檔案及目錄會強制略過
        * 檔案篩選：篩選檔名的規則（例如： `*.doc`,`*.htm`,`*.pdf`）
        * 目錄篩選：篩選目錄的規則（例如： `test*`,`*_export`）
        * 目錄層數：目錄搜尋的深度,-1代表不限制
    * **進階**
        * 複製檔案：複製原始檔案至工作目錄
        * 合併主檔：將多個主檔名相同的檔案匯出成單一知識文件
        * 處理錯誤事件：處理過程中，如遇錯誤事件便中止執行程序
        * 文件夾自動處理規則：匯出文件夾時啟用文件夾自動分類，自動關鍵字擷取,自動摘要等規則
* 來源-**Vitals ESP**：
    * **主要**
        * 來源文件夾：要匯出資料的文件夾位置
    * **進階**
        * 下載檔案：下載來源知識文件的附檔至本地工作目錄
        * 處理錯誤事件：處理過程中，如遇錯誤事件便中止執行程序
        * 截短檔案名稱：當檔名過長時，截短檔案名稱
* 目的：
    * **主要**
        * 目的文件夾：要匯入資料的文件夾位置
        * 預設知識類型：使用檔案模式匯入且未開啟更新模式時，匯入文件的知識類型
        * 預設匯入語系：設定Porter比對資料用的語系，預設選項為目的預設語系，表示使用目的ESP的預設語系做比對。目的文件夾有設定的語系才可以選擇
    * **進階**
        * 更新模式：更新舊有資料，而非單純新增不存在的資料
        * 較多語系覆蓋更新：更新模式勾選時才顯示此選項，且目的來源有一方有開啟多國語系時才有用，若來源語系較多時，一樣將多的語系內容匯入目的
        * 較少語系保守更新：更新模式勾選時才顯示此選項，且目的來源有一方有開啟多國語系時才有用，若來源語系較少時，只更新來源有的語系內容
        * 套用原作者身份：試著套用資源內指定的原作者身份來進行匯入，而非使用預設值
        * 套用推薦標籤：試著套用系統推薦的標籤來建立知識文件
        * 處理錯誤事件：處理過程中，如遇錯誤事件便中止執行程序
* 工作目錄：設定要產生或使用的中介資料位置

---

## 如何讓檔案模式匯入文件，依照文件夾的預設知識類型建立
* 使用檔案模式時，請在目的->進階選項->**勾選更新模式**，即會依照各文件夾的預設知識類型建立對應的文件
* 限制：知識類型的"摘要"欄位不能為必填，對於一般的檔案匯入模式也是如此

## 整批匯入的文件會受限於檔案總管的字數限制
* Windows檔案總管的路徑字數上限就是256，任何「檔案路徑+檔案名稱+副檔名」都不能超過此字數，並非產品或Porter的限制
* 檔名最大長度可參考ESP新增文件時，上傳檔案頁面上提示。
  ![uploadFileMaxLength.png](/img/uploadFileMaxLength.png)




---

## 已知問題
* 出於安全考量，Porter不支援匯入使用者角色或群組